<template>
  <div>
    <!-- localStorage ë¡œì»¬ìŠ¤í† ë¦¬ì§€ -->
    <div class="box">
      <h2>ì§ë³´ê´€ ì˜ˆì•½</h2>
      <input v-model="name" type="text" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”" /><br />
      <button @click="saveName">ğŸ’¾ ì €ì¥í•˜ê¸°</button>
      <button @click="LoadName">ğŸˆ ë¶ˆëŸ¬ì˜¤ê¸°</button>
      <button @click="clearName">ğŸ§±ì§€ìš°ê¸°</button>
      <p>ì €ì¥ëœ ì´ë¦„ : {{ savedName }}</p>
    </div>
  </div>
</template>
<script setup>
import { onMounted, ref } from "vue";
const name = ref("");
// ì €ì¥ëœ ì´ë¦„ ë³´ì—¬ì£¼ê¸°
const savedName = ref("");
// ì €ì¥í•˜ê¸°
const saveName = () => {
  localStorage.setItem("customerName", name.value);
//   ì…‹ì€ í‚¤ ë²¨ë¥˜
  alert("ì´ë¦„ì´ ì €ì¥ëì–´ìš”~");
  savedName.value = name.value; //ì €ì¥í›„ í™”ë©´ì— ë°˜ì˜
};
// ë¶ˆëŸ¬ì˜¤ê¸°
const LoadName = () => {
  const getName = localStorage.getItem("customerName");
//   ê²Ÿì€ í‚¤ê°’ë§Œ    ã„´ì´ê±´ ì§€ì—­ë³€ìˆ˜ ê´„í˜¸ì•ˆì—ì„œë§Œ ì‘ë™
  console.log(getName);
  savedName.value = getName ? getName : "ì €ì¥ëœ ì´ë¦„ì´ ì—†ì–´ìš”."
};
// ì§€ìš°ê¸°
const clearName = ()=>{
localStorage.removeItem("customerName")
saveName.value = ""
alert("ì €ì¥ëœ ì´ë¦„ì´ ì§€ì›Œì¡Œì–´ìš”!")
}
// í˜ì´ì§€ ì—´ë¦´ì§¸ ìë™ìœ¼ë¡œ ë¶ˆëŸ¬ì˜¤ê¸°
 onMounted(()=>{
// const getName = localStorage.getName("customerName")
// if(getName){
//     saveName.value = getName
// }else{
//     savedName.value = "ì €ì¥ëœ ì´ë¦„ì´ ì—†ì–´ìš”."
// }
LoadName()
 })

</script>

<style scoped></style>
